<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html><head><meta content="text/html; charset=ISO-8859-1" http-equiv="content-type"><title>JWagner language specification</title></head>
<body>

<h1 style="text-align: center;" align="center"><span style="" lang="EN-US">JWagner language specification<o:p></o:p></span></h1>

<h3 style="text-align: center;" align="center"><span style="" lang="EN-US">v0.1 alpha<o:p></o:p></span></h3>

<p class="MsoNormal"><span style="" lang="EN-US">Table of
content:</span></p><ol><li><span style="" lang="EN-US">Language overview;</span></li><li><span style="" lang="EN-US">Language basics;</span></li><ol><li><span style="" lang="EN-US">Comments;</span></li><li><span style="" lang="EN-US"><span style=""><span style="font-family: &quot;Times New Roman&quot;; font-style: normal; font-variant: normal; font-weight: normal; font-size: 7pt; line-height: normal; font-size-adjust: none; font-stretch: normal;">&nbsp;</span></span></span><span style="" lang="EN-US">Basic syntax;</span></li><li><span style="" lang="EN-US">Melody structure;</span></li><li><span style="" lang="EN-US">Playback control;</span></li></ol><li><span style="" lang="EN-US">Commands</span></li><ol><li><span style="" lang="EN-US"><span style=""><span style="font-family: &quot;Times New Roman&quot;; font-style: normal; font-variant: normal; font-weight: normal; font-size: 7pt; line-height: normal; font-size-adjust: none; font-stretch: normal;"></span></span></span><span style="" lang="EN-US">play</span></li><li><span style="" lang="EN-US"><span style=""><span style="font-family: &quot;Times New Roman&quot;; font-style: normal; font-variant: normal; font-weight: normal; font-size: 7pt; line-height: normal; font-size-adjust: none; font-stretch: normal;"></span></span></span><span style="" lang="EN-US">go</span></li><li><span style="" lang="EN-US">tune <span style="font-style: italic;">and</span> play tune<br></span></li></ol></ol>

<h2><span style="" lang="EN-US">1. Language overview<o:p></o:p></span></h2>

<p class="MsoNormal"><span style="" lang="EN-US">Wagner is
music playing language. Currently it developed for Java VM only, so it&nbsp;calling JWagner.<o:p></o:p></span></p>

<h2><span style="" lang="EN-US">2. Language basics<o:p></o:p></span></h2>

<h3><span style="" lang="EN-US">2.1 Comments<o:p></o:p></span></h3>

<p class="MsoNormal"><span style="" lang="EN-US">Comments
format is &#8220;//...&#8221; for one row comment and /* &#8230; */ &#8211; block comments.<o:p></o:p></span></p>

<p class="MsoNormal"><span style="" lang="EN-US">Examle:<o:p></o:p></span></p>

<p class="MsoNormal"><b style=""><span style="" lang="EN-US">// this is comment<o:p></o:p></span></b></p>

<p class="MsoNormal"><b style=""><span style="" lang="EN-US">play 1; #this is another<o:p></o:p></span></b></p>

<h3><span style="" lang="EN-US">2.2 Basic syntax<o:p></o:p></span></h3>

<p class="MsoNormal"><span style="" lang="EN-US">In Wagner
one command separated to another throw &#8216;;&#8217; symbol. Command blocks has java (or
C) style &#8211; {&#8230;}. <o:p></o:p></span></p>

<p class="MsoNormal"><span style="" lang="EN-US">Example:<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height: normal;"><b style=""><span style="" lang="EN-US">{<o:p></o:p></span></b></p>

<p class="MsoNormal" style="line-height: normal;"><b style=""><span style="" lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp; </span>#this is a code block<o:p></o:p></span></b></p>

<p class="MsoNormal" style="line-height: normal;"><b style=""><span style="" lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp; </span>command;<o:p></o:p></span></b></p>

<p class="MsoNormal" style="line-height: normal;"><b style=""><span style="" lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp; </span>anotherCommand;<o:p></o:p></span></b></p>

<p class="MsoNormal" style="line-height: normal;"><b style=""><span style="" lang="EN-US">}<o:p></o:p></span></b></p>

<p class="MsoNormal" style="line-height: normal;"><span style="" lang="EN-US">Spaces, tabs, carret returns be ignored.</span></p>Some keywords are reserved and cannot be used for any names or identifiers: <span style="font-weight: bold;">play, tune, go</span>.

<h3><span style="" lang="EN-US">2.3 Melody structure <o:p></o:p></span></h3>

<p class="MsoNormal"><span style="" lang="EN-US">Any Wagner
program must have a Melody element to start:. Only one melody block may be placed in one .wag file.</span></p><p class="MsoNormal"><span style="" lang="EN-US">Basic melody schema:</span></p>

<p class="MsoNormal"><b style=""><span style="" lang="EN-US">melody NameOfMelody {<o:p></o:p></span></b></p>

<p class="MsoNormal"><b style=""><span style="" lang="EN-US"><o:p></o:p></span></b><span style="font-weight: bold;">&nbsp;&nbsp;&nbsp; command1;</span></p><p class="MsoNormal"><span style="font-weight: bold;">&nbsp;&nbsp;&nbsp; ...</span></p><p class="MsoNormal"><span style="font-weight: bold;">&nbsp;&nbsp;&nbsp; commandN;</span></p>

<p class="MsoNormal"><b style=""><span style="" lang="EN-US">}<o:p></o:p></span></b></p>

<p class="MsoNormal"><span style="" lang="EN-US">In command
block one or more commands can be called (see p. 3).<o:p></o:p></span></p>

<h3><span style="" lang="EN-US">2.4 Playback control<o:p></o:p></span></h3>

<p class="MsoNormal"><span style="" lang="EN-US">To write
Jwagner program it is important to understand, how melody be played. <o:p></o:p></span></p>

<p class="MsoNormal"><span style="" lang="EN-US">Wagner
melody playing by <b style="">tacts</b>, where one <b style="">tact</b> &#8211; atomic amount of time, smallest
valid note or pause length. Tact size also is music tempo. And more complex
music must consists more smallest tacts to provide complex melody.<o:p></o:p></span></p>

<p class="MsoNormal"><span style="" lang="EN-US">When melody
start playing, current tact is #0 tact. All commands (exclude commands changing
current tact) calling in this place executed in current tact &#8211; tact #0. When
program need to go forward, <b style="">go</b>
command must be called. This command move current tact forward for 1 or more
tacts.<o:p></o:p></span></p>

<p class="MsoNormal"><span style="" lang="EN-US">Melody
stops playing when all notes or other commands was executed on tact, where they
stored. No need to call <b style="">go</b> command
at the end of melody &#8211; this command designed for set position of other commands
on melody.<o:p></o:p></span></p>

<p class="MsoNormal"><span style="" lang="EN-US">For more
info about language commands read p. 3.<o:p></o:p></span></p>

<h2><span style="" lang="EN-US">3. Commands<o:p></o:p></span></h2>

<h3><span style="" lang="EN-US">3.1 play<o:p></o:p></span></h3>

<p class="MsoNormal"><span style="" lang="EN-US">The<b style=""> play</b> command playing a single note <b style="">in current tact</b>. Note will be turned
off in tact {current tact + NoteLength}.<o:p></o:p></span></p>

<p class="MsoNormal"><span style="" lang="EN-US">Format of
the command:<o:p></o:p></span></p>

<p class="MsoNormal"><b style=""><span style="" lang="EN-US">play {NoteSharpOctave} {NoteLengthInTacts}
{MIDIChannelN}<o:p></o:p></span></b></p>

<p class="MsoNormal"><span style="" lang="EN-US">Note writes in standart notation: note symbol (c,d,e,f,g,a,b) + sharp (if needed) + octave number. Note "C" six octave: "c6". Note "D" four octave with sharp: "d#4"</span></p><p class="MsoNormal"><span style="" lang="EN-US">Examples:<o:p></o:p></span></p>

<p class="MsoNormal"><b style=""><span style="" lang="EN-US">play c6 1 1; // playing note C of 6 octave on 1 MIDI channel for 1 tact<o:p></o:p></span></b></p>

<h3><span style="" lang="EN-US">3.2 go<o:p></o:p></span></h3>

<p class="MsoNormal"><span style="" lang="EN-US">The<b style=""> go</b> command move current tact forward
for specified number of tacts (if nothing specified, by default 1 tact).<o:p></o:p></span></p>

<p class="MsoNormal"><span style="" lang="EN-US">Format of
the command:<o:p></o:p></span></p>

<p class="MsoNormal"><b style=""><span style="" lang="EN-US">go [numberOfTacts</span></b><span style="" lang="EN-US">];<o:p></o:p></span></p>

<p class="MsoNormal"><span style="" lang="EN-US">Examples:<o:p></o:p></span></p>

<p class="MsoNormal"><b style=""><span style="" lang="EN-US">go; // go forward for 1 tact<o:p></o:p></span></b></p>

<p class="MsoNormal"><b style=""><span style="" lang="EN-US">go 3; // go forward for 3 tacts<o:p></o:p></span></b></p><big><span style="font-weight: bold;">3.3 Tune <span style="font-style: italic;">and</span> play tune</span><span style="font-weight: bold;"></span></big><br>Often
one place in melody played again and again. Then to be good idea to
write such melody part once and repeat again simple by name.<br>Tune is
submelody block, that can consists all elements of melody (include
sub-tunes). This command have two different kinds: long, when<br>melody specified, and short, when called tune, writed earlier.<br>Typically, tune be played in place where it declared if it started with <span style="font-weight: bold;">'play'</span> keyword. If tune was wroted for future use, it must be specified without forwarding <span style="font-weight: bold;">'play'</span> word. That tune do not be played in place, and ALL of it subtunes too.<br><br>There two kinds of tune command: with body (tune declaration) and without body (tune call).<br><br>Basic syntax of declaring&nbsp;tune command:<br><br><span style="font-weight: bold;">[play] tune {tuneName} {</span><br style="font-weight: bold;"><span style="font-weight: bold;">&nbsp;&nbsp;&nbsp; command1;</span><p style="font-weight: bold;" class="MsoNormal">&nbsp;&nbsp;&nbsp; ...</p><p style="font-weight: bold;" class="MsoNormal">&nbsp;&nbsp;&nbsp; commandN;</p><span style="font-weight: bold;">}</span><br><br>For
this command it is allowed to overwrite tune with same name in one
melody by declaring another tune with same name. In this case old tune
be active directly to point of new tune redeclaration.<br><br>Basic syntax of&nbsp;<span style="font-weight: bold;">tune</span> call command:<br><br><span style="font-weight: bold;">play tune {tuneName};<br></span><br>If no tune with specified name was found, program not stop working, but nothing be played.<span style="font-weight: bold;"><br><br></span>Example:<span style="font-weight: bold;"><br><br>melody test {<br>&nbsp;&nbsp;&nbsp; play tune t1 { <br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;tune t2 { // no playing of the tune and ALL it subtunes in this place</span><br style="font-weight: bold;"><span style="font-weight: bold;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; </span><b style="font-weight: bold;"><span style="" lang="EN-US">play c6 1 1;</span></b><br style="font-weight: bold;"><span style="font-weight: bold;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; go;</span><br style="font-weight: bold;"><span style="font-weight: bold;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; }<br></span><b style="font-weight: bold;"><span style="" lang="EN-US">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; play d#6 1 1;</span></b><span style="font-weight: bold;"> // playing note at that point - no mute flag on tune t1</span><br style="font-weight: bold;"><b style="font-weight: bold;"><span style="" lang="EN-US">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; go;</span></b><br style="font-weight: bold;"><span style="font-weight: bold;"><span style="font-weight: bold;">&nbsp;&nbsp;&nbsp; }</span><br style="font-weight: bold;"><span style="font-weight: bold;">&nbsp;&nbsp;&nbsp; play tune t2; // now playing tune t2</span><br style="font-weight: bold;"><span style="font-weight: bold;">}</span></span><big><big style="font-weight: bold;"><span style="" lang="EN-US"></span></big></big><p class="MsoNormal"><span style="" lang="EN-US"><o:p>&nbsp;</o:p></span></p>
</body></html>